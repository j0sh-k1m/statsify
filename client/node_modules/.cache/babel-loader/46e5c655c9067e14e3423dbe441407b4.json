{"ast":null,"code":"var _jsxFileName = \"/Users/joshkim/Documents/Vs Code/statsify/client/src/Home.js\",\n    _s = $RefreshSig$();\n\nimport React, { Fragment, useEffect, useState } from \"react\";\nimport Navbar from \"./components/Navbar/Navbar\";\nimport { Routes, Route } from \"react-router-dom\";\nimport Explore from \"./components/pages/Explore/Explore\";\nimport Recent from \"./components/pages/Recent/Recent\";\nimport TopTracks from \"./components/pages/TopTracks/TopTracks\";\nimport TopArtists from \"./components/pages/TopArtists/TopArtists\";\nimport useAuth from \"./useAuth\";\nimport SpotifyWebApi from \"spotify-web-api-node\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst spotifyApi = new SpotifyWebApi({\n  clientId: \"12dac98b658f492091542cd6c4babb6c\"\n});\n\nconst Home = _ref => {\n  _s();\n\n  let {\n    code\n  } = _ref;\n  const accessToken = useAuth(code);\n  const [topArtists, setTopArtists] = useState();\n  const [topTracks, setTopTracks] = useState();\n  const [recentlyPlayed, setRecentlyPlayed] = useState();\n  const [newReleases, setNewReleases] = useState();\n  const [recommendations, setRecommendations] = useState();\n  const [topTracksTimeFrame, setTopTracksTimeFrame] = useState(\"long_term\");\n  const [topArtistsTimeFrame, setTopArtistsTimeFrame] = useState(\"long_term\");\n  {\n    /* Get the time range for Top Artists and Top Tracks as User input */\n  }\n  useEffect(() => {\n    if (!accessToken) return;\n    spotifyApi.setAccessToken(accessToken);\n  }, [accessToken]);\n  useEffect(() => {\n    if (!accessToken) return;\n    spotifyApi.getMyTopArtists({\n      time_range: \"long_term\",\n      limit: 50\n    }).then(res => {\n      setTopArtists(res.body);\n    }).catch(err => {\n      console.log(err);\n    });\n    spotifyApi.getMyTopTracks({\n      time_range: topTracksTimeFrame,\n      limit: 50\n    }).then(res => {\n      setTopTracks(res.body);\n    }).catch(err => {\n      console.log(err);\n    });\n    spotifyApi.getMyRecentlyPlayedTracks().then(res => {\n      setRecentlyPlayed(res.body);\n    }).catch(err => {\n      console.log(err);\n    });\n    spotifyApi.getNewReleases().then(res => {\n      setNewReleases(res.body);\n    }).catch(err => {\n      console.log(err);\n    }); // spotifyApi\n    //   .getRecommendations()\n    //   .then((res) => {\n    //     setRecommendations(res.body);\n    //   })\n    //   .catch((err) => {\n    //     console.log(err);\n    //   });\n  }, [accessToken, topTracksTimeFrame]); // Render the different pages conditionally\n\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Routes, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/\",\n        element: /*#__PURE__*/_jsxDEV(Fragment, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 34\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/recent\",\n        element: /*#__PURE__*/_jsxDEV(Recent, {\n          recentlyPlayed: recentlyPlayed\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 20\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/top-artists\",\n        element: /*#__PURE__*/_jsxDEV(TopArtists, {\n          topArtists: topArtists\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 20\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/top-tracks\",\n        element: /*#__PURE__*/_jsxDEV(TopTracks, {\n          topTracks: topTracks,\n          setTopTracksTimeFrame: setTopTracksTimeFrame\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 20\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/explore\",\n        element: /*#__PURE__*/_jsxDEV(Explore, {\n          newReleases: newReleases,\n          recommendations: recommendations\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Home, \"EcaGqHOOUzCMIv0553KxVjND7oQ=\", false, function () {\n  return [useAuth];\n});\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","Fragment","useEffect","useState","Navbar","Routes","Route","Explore","Recent","TopTracks","TopArtists","useAuth","SpotifyWebApi","spotifyApi","clientId","Home","code","accessToken","topArtists","setTopArtists","topTracks","setTopTracks","recentlyPlayed","setRecentlyPlayed","newReleases","setNewReleases","recommendations","setRecommendations","topTracksTimeFrame","setTopTracksTimeFrame","topArtistsTimeFrame","setTopArtistsTimeFrame","setAccessToken","getMyTopArtists","time_range","limit","then","res","body","catch","err","console","log","getMyTopTracks","getMyRecentlyPlayedTracks","getNewReleases"],"sources":["/Users/joshkim/Documents/Vs Code/statsify/client/src/Home.js"],"sourcesContent":["import React, { Fragment, useEffect, useState } from \"react\";\nimport Navbar from \"./components/Navbar/Navbar\";\nimport { Routes, Route } from \"react-router-dom\";\nimport Explore from \"./components/pages/Explore/Explore\";\nimport Recent from \"./components/pages/Recent/Recent\";\nimport TopTracks from \"./components/pages/TopTracks/TopTracks\";\nimport TopArtists from \"./components/pages/TopArtists/TopArtists\";\nimport useAuth from \"./useAuth\";\nimport SpotifyWebApi from \"spotify-web-api-node\";\n\nconst spotifyApi = new SpotifyWebApi({\n  clientId: \"12dac98b658f492091542cd6c4babb6c\",\n});\n\nconst Home = ({ code }) => {\n  const accessToken = useAuth(code);\n\n  const [topArtists, setTopArtists] = useState();\n  const [topTracks, setTopTracks] = useState();\n  const [recentlyPlayed, setRecentlyPlayed] = useState();\n  const [newReleases, setNewReleases] = useState();\n  const [recommendations, setRecommendations] = useState();\n  const [topTracksTimeFrame, setTopTracksTimeFrame] = useState(\"long_term\");\n  const [topArtistsTimeFrame, setTopArtistsTimeFrame] = useState(\"long_term\")\n\n  {/* Get the time range for Top Artists and Top Tracks as User input */}\n\n  useEffect(() => {\n    if (!accessToken) return;\n    spotifyApi.setAccessToken(accessToken);\n  }, [accessToken]);\n\n  useEffect(() => {\n    if (!accessToken) return;\n    spotifyApi\n      .getMyTopArtists({ time_range: \"long_term\", limit: 50 })\n      .then((res) => {\n        setTopArtists(res.body);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n\n    spotifyApi\n      .getMyTopTracks({ time_range: topTracksTimeFrame, limit: 50 })\n      .then((res) => {\n        setTopTracks(res.body);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n\n    spotifyApi\n      .getMyRecentlyPlayedTracks()\n      .then((res) => {\n        setRecentlyPlayed(res.body);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n\n    spotifyApi\n      .getNewReleases()\n      .then((res) => {\n        setNewReleases(res.body);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n\n    // spotifyApi\n    //   .getRecommendations()\n    //   .then((res) => {\n    //     setRecommendations(res.body);\n    //   })\n    //   .catch((err) => {\n    //     console.log(err);\n    //   });\n  }, [accessToken, topTracksTimeFrame]);\n\n  // Render the different pages conditionally\n  return (\n    <Fragment>\n      <Navbar />\n      <Routes>\n        <Route path=\"/\" element={<Fragment />} />\n        <Route\n          path=\"/recent\"\n          element={<Recent recentlyPlayed={recentlyPlayed} />}\n        />\n        <Route\n          path=\"/top-artists\"\n          element={<TopArtists topArtists={topArtists} />}\n        />\n        <Route\n          path=\"/top-tracks\"\n          element={<TopTracks topTracks={topTracks} setTopTracksTimeFrame={setTopTracksTimeFrame} />}\n        />\n        <Route\n          path=\"/explore\"\n          element={\n            <Explore\n              newReleases={newReleases}\n              recommendations={recommendations}\n            />\n          }\n        />\n      </Routes>\n    </Fragment>\n  );\n};\n\nexport default Home;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}